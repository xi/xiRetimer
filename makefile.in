CC      = /usr/bin/g++
CFLAGS  = @_CFLAGS@ -DVERSION=\"@VERSION@\" `sdl-config --cflags` `pkg-config --cflags sndfile @_PKGC@` `wx-config --cppflags`
LDFLAGS = `sdl-config --libs` `pkg-config --libs sndfile @_PKGC@` `wx-config --libs`

@NAME@: .gui .back
	$(CC) -o @NAME@ *.o $(LDFLAGS)

.gui: .back src/gui/*.cpp src/gui/*.h
	$(CC) $(CFLAGS) -c src/gui/*.cpp src/gui/*.h
	touch .gui

.back: src/*.cpp src/*.h
	$(CC) $(CFLAGS) -c src/*.cpp src/*.h
	touch .back

.PHONY: clean
clean:
	rm -f *.o src/*.gch src/gui/*.gch .gui .back

